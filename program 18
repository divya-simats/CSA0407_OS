#include <stdio.h>
#define P 5
#define R 3

int main() {
    int alloc[P][R] = {{0,1,0},{2,0,0},{3,0,2},{2,1,1},{0,0,2}};
    int max[P][R]   = {{7,5,3},{3,2,2},{9,0,2},{2,2,2},{4,3,3}};
    int avail[R] = {3,3,2};
    int f[P]={0}, ans[P], ind=0, need[P][R];
    
    for(int i=0;i<P;i++)
        for(int j=0;j<R;j++)
            need[i][j]=max[i][j]-alloc[i][j];

    for(int k=0;k<5;k++)
        for(int i=0;i<P;i++)
            if(f[i]==0){
                int flag=0;
                for(int j=0;j<R;j++)
                    if(need[i][j]>avail[j]){ flag=1; break; }
                if(flag==0){
                    ans[ind++]=i;
                    for(int y=0;y<R;y++)
                        avail[y]+=alloc[i][y];
                    f[i]=1;
                }
            }
    printf("Safe sequence: ");
    for(int i=0;i<P;i++) printf("P%d ", ans[i]);
    return 0;
}
